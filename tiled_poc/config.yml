# Tiled server configuration
uvicorn:
  host: "127.0.0.1"
  port: 8005

trees:
  - path: /
    tree: catalog
    args:
      uri: "sqlite:////sdf/data/lcls/ds/prj/prjmaiqmag01/results/cwang31/proj-vdp/tiled_poc/catalog-bulk.db"
      init_if_not_exists: true
      writable_storage: "/sdf/data/lcls/ds/prj/prjmaiqmag01/results/cwang31/proj-vdp/tiled_poc/storage"
      readable_storage:
        - "/sdf/data/lcls/ds/prj/prjmaiqmag01/results/vdp/data/schema_v1"

# Broker configuration (dataset-agnostic)
broker:
  # Service directory (where catalog.db and storage/ live)
  service_dir: "/sdf/data/lcls/ds/prj/prjmaiqmag01/results/cwang31/proj-vdp/tiled_poc"

  # Data directory root
  data_dir: "/sdf/data/lcls/ds/prj/prjmaiqmag01/results/vdp"
  schema_version: "schema_v1"

  # Manifest file patterns (resolved relative to base_dir)
  manifests:
    hamiltonians: "manifest_hamiltonians_*.parquet"
    artifacts: "manifest_artifacts_*.parquet"

  # Registration defaults (override with VDP_MAX_HAMILTONIANS env var)
  max_hamiltonians: 10
